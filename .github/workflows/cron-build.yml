name: Cron Build
on: [push]
jobs:
  main:
    if: "!contains(github.event.head_commit.message, '[ci skip]')"
    runs-on: ubuntu-latest
    strategy:
        fail-fast: false
        matrix:
            ubuntuversion: ["23.04", "23.10", "24.04"]
    steps:
      - name: Check out repository code
        uses: actions/checkout@v2
      - name: Build container on ${{matrix.ubuntuversion}}
        run: UBUNTUVERSION=${{matrix.ubuntuversion}} make -C test build
      - name: Install packages on ${{matrix.ubuntuversion}}
        run: UBUNTUVERSION=${{matrix.ubuntuversion}} make -C test run

